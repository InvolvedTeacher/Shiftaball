[gd_scene load_steps=22 format=4 uid="uid://ivqqgk3t1h72"]

[ext_resource type="Texture2D" uid="uid://6civcoqhb5tr" path="res://assets/levels/level_2/bg2.png" id="1_wb0vq"]
[ext_resource type="Texture2D" uid="uid://c7whirwmjnip0" path="res://assets/levels/level_3/steel tileset.png" id="2_72x3h"]
[ext_resource type="Texture2D" uid="uid://cea4my4v01014" path="res://assets/levels/level_1/ice spikes.png" id="4_a82vw"]
[ext_resource type="PackedScene" uid="uid://d317g3stss0nr" path="res://scenes/player/player.tscn" id="5_t14x3"]
[ext_resource type="Script" uid="uid://yh126s30ncs8" path="res://scripts/player/transition_camera.gd" id="6_ahaer"]
[ext_resource type="PackedScene" uid="uid://dibwv8473eq5u" path="res://scenes/ball/ball.tscn" id="7_wt4k6"]
[ext_resource type="PackedScene" uid="uid://l6gwvlqnijhl" path="res://scenes/collectibles/coin_ui.tscn" id="8_wo5bm"]
[ext_resource type="PackedScene" uid="uid://c2y3rysb650n8" path="res://scenes/collectibles/coin.tscn" id="9_edoqj"]
[ext_resource type="PackedScene" uid="uid://cg7qcflf0631f" path="res://scenes/interactive/button/button.tscn" id="10_022ip"]
[ext_resource type="PackedScene" uid="uid://b7xlkli3l8mby" path="res://scenes/interactive/bars/large_bars.tscn" id="11_a82vw"]
[ext_resource type="PackedScene" uid="uid://d4c7cuxdpjngf" path="res://scenes/interactive/bars/bars.tscn" id="11_hl16f"]
[ext_resource type="PackedScene" uid="uid://bgoq2ns2v81i1" path="res://scenes/interactive/lever/lever.tscn" id="12_ah4rv"]
[ext_resource type="PackedScene" uid="uid://bxjpitljjquc3" path="res://transitions/door.tscn" id="12_v6yyo"]
[ext_resource type="PackedScene" uid="uid://b8a2my2namghg" path="res://scenes/misc/fan.tscn" id="13_522sc"]
[ext_resource type="PackedScene" uid="uid://j4ig5l8xbwwt" path="res://scenes/misc/fade_area.tscn" id="14_522sc"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_wb0vq"]
texture = ExtResource("2_72x3h")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:0/0 = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
2:0/0 = 0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
0:1/0 = 0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:1/0 = 0
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
2:1/0 = 0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
3:1/0 = 0
3:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
5:1/0 = 0
5:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
0:2/0 = 0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:2/0 = 0
1:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
2:2/0 = 0
2:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
3:2/0 = 0
3:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
4:2/0 = 0
4:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
5:2/0 = 0
5:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
0:3/0 = 0
0:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:3/0 = 0
1:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
2:3/0 = 0
2:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
3:3/0 = 0
3:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
4:3/0 = 0
4:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
5:3/0 = 0
5:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)

[sub_resource type="TileSet" id="TileSet_yetkn"]
tile_size = Vector2i(32, 32)
physics_layer_0/collision_layer = 4
physics_layer_0/collision_mask = 3
sources/0 = SubResource("TileSetAtlasSource_wb0vq")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_s24du"]
texture = ExtResource("4_a82vw")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 12.6399, -4.91551, -12.6399, -4.73996)
1:0/0 = 0

[sub_resource type="TileSet" id="TileSet_8be2q"]
tile_size = Vector2i(32, 32)
physics_layer_0/collision_layer = 64
physics_layer_0/collision_mask = 0
sources/0 = SubResource("TileSetAtlasSource_s24du")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ah4rv"]
texture = ExtResource("2_72x3h")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
5:2/0 = 0
6:2/0 = 0
7:2/0 = 0
10:2/0 = 0
11:2/0 = 0
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0
3:3/0 = 0
4:3/0 = 0
5:3/0 = 0
6:3/0 = 0
7:3/0 = 0
10:3/0 = 0
11:3/0 = 0
0:4/0 = 0
1:4/0 = 0
2:4/0 = 0
3:4/0 = 0
4:4/0 = 0
5:4/0 = 0
6:4/0 = 0
7:4/0 = 0
8:4/0 = 0
9:4/0 = 0
10:4/0 = 0
11:4/0 = 0
0:5/0 = 0
1:5/0 = 0
2:5/0 = 0
3:5/0 = 0
4:5/0 = 0
5:5/0 = 0
6:5/0 = 0
7:5/0 = 0
8:5/0 = 0
9:5/0 = 0
10:5/0 = 0
11:5/0 = 0
0:6/0 = 0
1:6/0 = 0
2:6/0 = 0
3:6/0 = 0
4:6/0 = 0
5:6/0 = 0
6:6/0 = 0
7:6/0 = 0
8:6/0 = 0
9:6/0 = 0
10:6/0 = 0
11:6/0 = 0
0:7/0 = 0
1:7/0 = 0
2:7/0 = 0
3:7/0 = 0
4:7/0 = 0
5:7/0 = 0
6:7/0 = 0
7:7/0 = 0
8:7/0 = 0
9:7/0 = 0
10:7/0 = 0
11:7/0 = 0

[sub_resource type="TileSet" id="TileSet_522sc"]
tile_size = Vector2i(32, 32)
sources/0 = SubResource("TileSetAtlasSource_ah4rv")

[node name="Level3" type="Node"]

[node name="Background" type="TextureRect" parent="."]
texture_filter = 1
anchors_preset = -1
anchor_left = -0.00231214
anchor_right = 2.01778
anchor_bottom = 1.0
offset_left = -46.0
offset_right = 33.6201
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("1_wb0vq")
metadata/_edit_use_anchors_ = true

[node name="TileMap" type="TileMapLayer" parent="."]
texture_filter = 1
tile_map_data = PackedByteArray("AAAAAA0AAAAAAAEAAAAAAA4AAAAAAAIAAAABAA0AAAABAAEAAAACAA0AAAABAAEAAAADAA0AAAABAAEAAAAEAA0AAAABAAEAAAAFAA0AAAABAAIAAAAFAAwAAAAAAAIAAAAFAAsAAAAAAAEAAAAGAAsAAAACAAEAAAABAA4AAAABAAIAAAACAA4AAAABAAIAAAADAA4AAAABAAIAAAAEAA4AAAABAAIAAAAFAA4AAAABAAIAAAAGAA4AAAACAAIAAAAGAAwAAAACAAIAAAAGAA0AAAACAAIAAAD//w4AAAADAAMAAAD//w0AAAADAAIAAAD//wwAAAADAAIAAAD//wsAAAADAAIAAAD//woAAAADAAIAAAD//wkAAAADAAIAAAD//wgAAAADAAIAAAD//wcAAAADAAIAAAD//wYAAAADAAIAAAD//wUAAAADAAIAAAD//wQAAAADAAIAAAD//wMAAAADAAIAAAD//wIAAAADAAIAAAD//wEAAAADAAIAAAD//wAAAAADAAEAAAAJAAwAAAAEAAIAAAAKAAwAAAAFAAIAAAAJAA0AAAAEAAMAAAAKAA0AAAAFAAMAAAAOAA4AAAAAAAAAAAAPAA4AAAABAAAAAAAQAA4AAAABAAAAAAARAA4AAAABAAAAAAASAA4AAAACAAAAAAATAA0AAAADAAEAAAATAA4AAAADAAMAAAAUAAsAAAADAAEAAAAUAAwAAAADAAIAAAAUAA0AAAADAAIAAAAUAA4AAAADAAMAAAAQAAoAAAACAAAAAAAPAAoAAAAAAAAAAAANAAgAAAACAAAAAAAMAAgAAAABAAAAAAALAAgAAAAAAAAAAAAJAAYAAAAFAAEAAAAHAAQAAAAFAAEAAAAXAAkAAAAFAAEAAAADAAQAAAABAAAAAAACAAQAAAABAAAAAAAAAAQAAAAAAAAAAAABAAQAAAABAAAAAAAEAAQAAAACAAAAAAAAAP//AAAFAAEAAAABAP//AAAFAAEAAAACAP//AAAFAAEAAAADAP//AAAFAAEAAAAEAP//AAAFAAEAAAAFAP//AAAFAAEAAAAGAP//AAAFAAEAAAAHAP//AAAFAAEAAAAIAP//AAAFAAEAAAAJAP//AAAFAAEAAAAKAP//AAAFAAEAAAALAP//AAAFAAEAAAAMAP//AAAFAAEAAAANAP//AAAFAAEA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")
tile_set = SubResource("TileSet_yetkn")

[node name="DamageArea" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAHAA8AAAAAAAAAADAIAA8AAAAAAAAAADAJAA8AAAAAAAAAADAKAA8AAAAAAAAAADALAA8AAAAAAAAAADAMAA8AAAAAAAAAADANAA8AAAAAAAAAADAGAA8AAAAAAAAAADAOAA8AAAAAAAAAADAUAA8AAAAAAAAAADAVAA8AAAAAAAAAADAWAA8AAAAAAAAAADAXAA8AAAAAAAAAADAYAA8AAAAAAAAAADAZAA8AAAAAAAAAADAaAA8AAAAAAAAAADAbAA8AAAAAAAAAADAcAA8AAAAAAAAAADAdAA8AAAAAAAAAADAeAA8AAAAAAAAAADAoAA8AAAAAAAAAADApAA8AAAAAAAAAADAqAA8AAAAAAAAAADArAA8AAAAAAAAAADAsAA8AAAAAAAAAADAtAA8AAAAAAAAAADAuAA8AAAAAAAAAADAxAAkAAAAAAAAAADA=")
tile_set = SubResource("TileSet_8be2q")
rendering_quadrant_size = 32

[node name="Player" parent="." instance=ExtResource("5_t14x3")]
position = Vector2(22, 372)

[node name="TransitionCamera" type="Camera2D" parent="Player"]
position = Vector2(405, -132)
position_smoothing_enabled = true
position_smoothing_speed = 3.0
script = ExtResource("6_ahaer")

[node name="Ball" parent="." groups=["Ball"] instance=ExtResource("7_wt4k6")]
position = Vector2(-100, -100)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="CoinUI" parent="CanvasLayer" instance=ExtResource("8_wo5bm")]
offset_left = 79.0
offset_top = 6.0
offset_right = 119.0
offset_bottom = 46.0
metadata/_edit_use_anchors_ = true

[node name="Coin" parent="." instance=ExtResource("9_edoqj")]
position = Vector2(529, 245)

[node name="Coin2" parent="." instance=ExtResource("9_edoqj")]
position = Vector2(31, 48)

[node name="Coin3" parent="." instance=ExtResource("9_edoqj")]
position = Vector2(1709, 26)

[node name="Button1" parent="." node_paths=PackedStringArray("bars") instance=ExtResource("10_022ip")]
position = Vector2(1712, 272)
rotation = 4.71239
bars = NodePath("../Bars1")

[node name="LargeBarsButton1" parent="." node_paths=PackedStringArray("bars") instance=ExtResource("10_022ip")]
position = Vector2(560, 16)
rotation = 3.14159
bars = NodePath("../LargeBars1")

[node name="LargeBarsButton2" parent="." node_paths=PackedStringArray("bars") instance=ExtResource("10_022ip")]
position = Vector2(1712, 432)
rotation = -1.5708
bars = NodePath("../LargeBars2")

[node name="Bars1" parent="." instance=ExtResource("11_hl16f")]
position = Vector2(1040, 48)

[node name="LargeBars1" parent="." instance=ExtResource("11_a82vw")]
position = Vector2(656, 304)

[node name="LargeBars2" parent="." instance=ExtResource("11_a82vw")]
position = Vector2(144, 80)

[node name="Door" parent="." instance=ExtResource("12_v6yyo")]
position = Vector2(999, 80)
transition_type = "fade"
next_scene = "res://scenes/ui/main_menu_screen.tscn"
duration = 1.5

[node name="Lever" parent="." node_paths=PackedStringArray("fan") instance=ExtResource("12_ah4rv")]
position = Vector2(496, 26)
fan = NodePath("../Fan")

[node name="Fan" parent="." node_paths=PackedStringArray("ball") instance=ExtResource("13_522sc")]
position = Vector2(576, 173)
ball = NodePath("../Ball")

[node name="HiddenArea1" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAAAAAAAAAAAAIAAAAEAAAAAAACAAIAAAAEAAMAAAACAAIAAAAAAAMAAAAAAAIAAAAAAAEAAAAAAAIAAAAAAAIAAAAAAAIAAAAEAAEAAAACAAIAAAAEAAIAAAACAAIAAAABAAAAAAABAAIAAAACAAAAAAABAAIAAAADAAAAAAABAAIAAAABAAMAAAABAAIAAAACAAMAAAABAAIAAAADAAMAAAABAAIAAAABAAEAAAABAAIAAAACAAEAAAABAAIAAAADAAEAAAABAAIAAAADAAIAAAABAAIAAAACAAIAAAABAAIAAAABAAIAAAABAAIAAAAAAAQAAAAAAAMAAAAEAAQAAAACAAMAAAADAAQAAAABAAMAAAACAAQAAAABAAMAAAABAAQAAAABAAMAAAAAAP//AAAAAAEAAAAEAP//AAACAAEAAAABAP//AAABAAEAAAACAP//AAABAAEAAAADAP//AAABAAEAAAA=")
tile_set = SubResource("TileSet_522sc")
rendering_quadrant_size = 32

[node name="FadeArea" parent="HiddenArea1" instance=ExtResource("14_522sc")]
position = Vector2(80, 64)
scale = Vector2(8.01943, 6.3983)

[node name="HiddenArea2" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAyAAcAAAAAAAIAAAAyAAYAAAAAAAEAAAAzAAYAAAABAAEAAAA0AAYAAAABAAEAAAA1AAYAAAABAAEAAAA2AAYAAAABAAEAAAA2AAcAAAACAAIAAAA2AAgAAAACAAIAAAAyAAgAAAAAAAIAAAAzAAgAAAABAAIAAAAzAAcAAAABAAIAAAA0AAcAAAABAAIAAAA1AAcAAAABAAIAAAA1AAgAAAABAAIAAAA0AAgAAAABAAIAAAA=")
tile_set = SubResource("TileSet_522sc")
rendering_quadrant_size = 32

[node name="FadeArea" parent="HiddenArea2" instance=ExtResource("14_522sc")]
position = Vector2(1680, 240)
scale = Vector2(8, 4.798)
